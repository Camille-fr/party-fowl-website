<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Party Fowl — Home</title>
  <meta name="description" content="Party Fowl home — responsive slides (mobile/desktop) loaded sequentially." />

  <link rel="icon" type="image/x-icon" href="../assets/favicon/favicon.ico" />

  <style>
    :root {
      color-scheme: dark;
      --desktop-shell: 1440px;
      --desktop-shell-pad: clamp(18px, 2.2vw, 28px);
      --desktop-shell-total: calc(var(--desktop-shell) + var(--desktop-shell-pad) + var(--desktop-shell-pad));
      --scroll-velocity: 0;
      --scroll-ambient-strength: 0.28;
      --scroll-glow-opacity: 0.32;
    }
    * { box-sizing: border-box; }
    html, body {
      /* Allow the document to grow taller than the viewport (needed for scrolling) */
      min-height: 100%;
      width: 100%;
      max-width: 100vw;
      margin: 0;
      overflow-x: hidden;
      overflow-y: auto;
    }
    html {
      scroll-behavior: smooth;
      overscroll-behavior: contain;
    }
    @font-face {
      font-family: "Adrenaline";
      src: url("../assets/fonts/Adrenaline-Regular.otf") format("opentype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: "Newslab";
      src: url("../assets/fonts/Latinotype - Newslab.otf") format("opentype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    /* Alias for Nunito Sans to our local Adrenaline to avoid external fonts */
    @font-face {
      font-family: "Nunito Sans";
      src: url("../assets/fonts/Adrenaline-Regular.otf") format("opentype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    body {
      margin: 0;
      background: #030b16;
      color: #fff;
      font-family: "Adrenaline", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      /* Reserve space for mobile dock so content isn't hidden */
      padding-bottom: 0;
      transition:
        background 0.85s ease,
        color 0.5s ease;
      position: relative;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background:
        radial-gradient(200% 160% at 20% -10%, rgba(255, 43, 91, calc(var(--scroll-ambient-strength) * 0.5)), transparent 58%),
        radial-gradient(220% 180% at 72% -18%, rgba(53, 240, 255, calc(var(--scroll-ambient-strength) * 0.4)), transparent 60%),
        radial-gradient(180% 140% at 50% 110%, rgba(255, 255, 255, calc(var(--scroll-glow-opacity) * 0.4)), transparent 60%);
      opacity: calc(0.35 + var(--scroll-ambient-strength) * 0.35);
      filter: blur(calc(24px + var(--scroll-velocity) * 14px));
      animation: ambientPulse 30s ease-in-out infinite;
    }

    html::-webkit-scrollbar {
      width: 10px;
    }
    html::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.04);
    }
    html::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 999px;
      border: 2px solid transparent;
      background-clip: content-box;
    }
    html::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.35);
    }

    .slide-skeleton {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 clamp(16px, 4vw, 40px);
      background:
        linear-gradient(180deg, rgba(3, 11, 22, 1) 0%, rgba(2, 9, 17, 0.96) 60%, rgba(3, 4, 8, 0.85) 100%),
        radial-gradient(circle at 20% 20%, rgba(244, 0, 18, 0.16), transparent 45%),
        radial-gradient(circle at 85% 0%, rgba(125, 195, 184, 0.2), transparent 35%);
      color: #fefefe;
      z-index: 12;
      pointer-events: none;
      transition: opacity 0.45s ease, visibility 0.45s ease;
    }

    .slide-skeleton__content {
      text-align: center;
      max-width: 420px;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    .slide-skeleton__logo {
      position: relative;
      width: min(280px, 68vw);
      margin: 0 auto 1rem;
      padding: 1rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.02);
    }

    .slide-skeleton__logo img {
      display: block;
      width: 100%;
      height: auto;
      object-fit: contain;
      mix-blend-mode: screen;
    }

    .slide-skeleton__title {
      font-size: clamp(2.1rem, 4vw, 3rem);
      line-height: 1.2;
      margin: 0.8rem 0;
      font-weight: 700;
    }

    .slide-skeleton__pulse {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.75);
    }

    .slide-skeleton__dot {
      width: 12px;
      height: 12px;
      border-radius: 999px;
      background: linear-gradient(180deg, #ff1f2b, #ff6c5a);
      animation: pulseFast 1.4s ease-in-out infinite;
    }

    .slide-skeleton.is-hidden {
      opacity: 0;
      visibility: hidden;
    }

    @keyframes pulseFast {
      0%, 100% { transform: scale(0.9); opacity: 0.7; }
      50% { transform: scale(1.15); opacity: 1; }
    }

    @keyframes ambientPulse {
      0%, 100% {
        transform: translateY(0);
        opacity: 0.32;
      }
      50% {
        transform: translateY(-18px);
        opacity: 0.48;
      }
    }

    /* Basic layout for slides container */
    .slides-root {
      width: 100%;
      max-width: 100vw;
      margin: 0 auto;
      min-height: 100vh;
      overflow-x: hidden;
      overflow-anchor: none;
      position: relative;
      background: linear-gradient(180deg, #05070d 0%, #030b16 100%);
      isolation: isolate;
      z-index: 1;
    }
    html, body {
      overflow-anchor: none;
    }

    /* One container per slide */
    .slide {
      width: 100%;
      max-width: 100vw;
      margin: 0;
      padding: 0;
      min-height: 0;
      background-color: #030b16;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
      position: relative;
      overflow-x: hidden;
      --frame-shift: 0px;
      --reveal-delay: 0s;
      opacity: 0;
      transform: translateY(26px) scale(0.992);
      transition:
        opacity 0.75s ease-out,
        transform 0.9s cubic-bezier(0.22, 1, 0.36, 1),
        filter 0.6s ease,
        box-shadow 0.6s ease;
      will-change: transform, opacity;
      isolation: isolate;
      filter: saturate(calc(0.92 + var(--scroll-velocity, 0) * 0.18)) brightness(calc(0.95 + var(--scroll-velocity, 0) * 0.12));
      box-shadow: 0 30px 80px rgba(2, 6, 15, calc(0.55 + var(--scroll-velocity, 0) * 0.26));
    }

    .slide.is-visible {
      opacity: 1;
      transform: translateY(0) scale(1);
      transition-delay: var(--reveal-delay, 0s);
    }

    @media (min-width: 900px) {
      .slides-root {
        max-width: 100%;
        padding-inline: 0;
      }
      .slide {
        max-width: 100%;
        margin: 0;
      }
    }

    /* The frames that host each partial */
    .slide-frame {
      display: block;
      width: 100%;
      min-height: 0;
      border: 0;
      background: transparent;
      /* The height is set dynamically once the content loads */
      pointer-events: none;
      visibility: hidden; /* revealed once sized to avoid clipping during load */
      transform: translateZ(0);
      transition:
        box-shadow 0.45s ease,
        filter 0.4s ease;
      filter: saturate(0.96);
    }

    .slide-frame.is-ready {
      visibility: visible;
      pointer-events: auto;
    }

    .slide.is-visible .slide-frame {
      box-shadow:
        0 20px 68px rgba(0, 0, 0, 0.42),
        0 0 0 1px rgba(255, 255, 255, 0.05);
      filter: saturate(1);
    }

    /* Placeholder used for slide 1 to reserve space until first frame is ready */
    .slide-placeholder { min-height: 0; }

    /* Responsive selection: show only matching variant */
	    @media (max-width: 899px) {
	      .view-desktop { display: none !important; }
	      .view-mobile { display: block; }
	      body { padding-bottom: env(safe-area-inset-bottom, 0px); }
	      .slides-root { min-height: 0; }
	      /* Keep the fixed mobile dock from covering the footer (no visual gap between last slide + footer). */
	      [data-role="site-footer"] .pf-footer {
	        padding-bottom: calc(28px + env(safe-area-inset-bottom, 0px) + 92px);
	      }
	      /* Make the join between slide 7 and footer obvious (home page only). */
	      [data-role="site-footer"] .pf-footer::before {
	        height: 6px;
	        background: linear-gradient(
	          90deg,
	          rgba(53,240,255,0.08) 0%,
	          rgba(53,240,255,0.95) 50%,
	          rgba(244,0,18,0.35) 100%
	        );
	        box-shadow:
	          0 0 18px rgba(53,240,255,0.55),
	          0 0 26px rgba(244,0,18,0.24);
	      }
	    }
    @media (min-width: 900px) {
      .view-desktop { display: block; }
      .view-mobile { display: none !important; }
    }

    /* Optional: small visual separators to help debugging stacking */
    .slide + .slide { /* no visible separator by default */ }

    /* Slides 6–7: ensure there is ZERO perceived gap on desktop (no shadows/borders between the two visuals). */
    @media (min-width: 900px) {
      .slide[data-slide-id="home-06-cta-section"],
      .slide[data-slide-id="home-07-rewards"] {
        background: transparent;
        box-shadow: none;
        filter: none;
      }

      .slide[data-slide-id="home-06-cta-section"] .slide-frame,
      .slide[data-slide-id="home-07-rewards"] .slide-frame {
        box-shadow: none !important;
        filter: none !important;
      }

      /* Hide possible 1px rounding seams between auto-sized iframes */
      .slide[data-slide-id="home-06-cta-section"] { margin-bottom: -2px; }
    }

    @media (prefers-reduced-motion: reduce) {
      :root {
        --scroll-velocity: 0 !important;
      }
      html {
        scroll-behavior: auto !important;
        overscroll-behavior: auto !important;
      }
      * { animation: none !important; transition: none !important; }
      .slide {
        opacity: 1 !important;
        transform: none !important;
      }
      .slide-frame {
        filter: none !important;
        box-shadow: none !important;
        transform: none !important;
      }
      body::before {
        animation: none !important;
        filter: none !important;
      }
    }
  </style>
</head>
<body>
  <div id="slideSkeleton" class="slide-skeleton" aria-hidden="true">
    <div class="slide-skeleton__content">
      <div class="slide-skeleton__logo" aria-hidden="true">
        <img src="../assets/img/home/logo.png" alt="Party Fowl logo" />
      </div>
      <span class="sr-only">Party Fowl</span>
      <p class="slide-skeleton__title">Get ready!</p>
      <div class="slide-skeleton__pulse">
        <span class="slide-skeleton__dot" aria-hidden="true"></span>
        <span>Express loading...</span>
      </div>
    </div>
  </div>
  <main class="slides-root" id="slidesRoot" aria-label="Home slides"></main>

  <!-- Mobile sticky dock: Locations + Order Now -->
  <div class="mobile-dock" aria-label="Quick actions on mobile">
    <div class="mobile-dock-inner">
      <button type="button" class="dock-btn dock-btn--locations" aria-label="Locations">
        <span class="dock-icon" aria-hidden="true"></span>
        <span class="dock-label">Locations</span>
      </button>
      <button type="button" class="dock-btn dock-btn--order" aria-label="Order Now">
        <span class="dock-icon" aria-hidden="true"></span>
        <span class="dock-label">Order Now</span>
      </button>
    </div>
  </div>

  <style>
    /* Mobile sticky dock styles */
    @media (min-width: 900px) { .mobile-dock { display: none !important; } }
    .mobile-dock {
      position: fixed;
      left: 0; right: 0; bottom: 0;
      z-index: 9999;
      padding: 10px 16px calc(env(safe-area-inset-bottom) + 12px);
      /* Lighter fallback gradient if backdrop-filter isn't supported */
      background: linear-gradient(180deg, rgba(3,11,22,0) 0%, rgba(3,11,22,0.04) 55%, rgba(3,11,22,0.10) 100%);
      pointer-events: none;
    }
    /* Blurred gradient background, transparent under buttons */
    .mobile-dock::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      /* Lighter blur and a vertical fade from bottom to top */
      background: linear-gradient(180deg, rgba(3,11,22,0.14) 0%, rgba(3,11,22,0.08) 45%, rgba(3,11,22,0.02) 85%, rgba(3,11,22,0) 100%);
      backdrop-filter: blur(14px) saturate(120%);
      -webkit-backdrop-filter: blur(14px) saturate(120%);
      will-change: backdrop-filter;
      /* Smooth, non-abrupt fade of the blur influence from bottom to top */
      -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.55) 40%, rgba(0,0,0,0.12) 85%, rgba(0,0,0,0) 100%);
      mask-image: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.55) 40%, rgba(0,0,0,0.12) 85%, rgba(0,0,0,0) 100%);
    }
    .mobile-dock-inner {
      max-width: clamp(320px, 92vw, 680px);
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      gap: clamp(8px, 2.8vw, 14px);
      justify-content: center;
      pointer-events: auto;
      padding: 8px 6px;
      position: relative;
      z-index: 1; /* Ensure buttons sit above the blur layer */
    }
    .dock-btn {
      --bg: linear-gradient(to bottom, #2b2b2b, #121212);
      --glow: rgba(255,255,255,0.18);
      /* Match mobile subtitle font for brand consistency */
      font-family: "Newslab", "Nunito Sans", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      border-radius: 999px;
      padding: clamp(10px, 2.6vw, 14px) clamp(14px, 4.4vw, 22px);
      min-height: clamp(46px, 11.5vw, 60px);
      /* Responsive width that adapts to screen size */
      flex: 1 1 clamp(140px, 42vw, 320px);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: clamp(6px, 2.2vw, 12px);
      border: 1px solid rgba(255,255,255,0.16);
      background: radial-gradient(circle at 20% 0%, rgba(255,255,255,0.08), transparent 40%), var(--bg);
      box-shadow: 0 10px 18px rgba(0,0,0,0.35), inset 0 1px 1px rgba(255,255,255,0.12);
      color: #fff;
      letter-spacing: 0.045em;
      text-transform: uppercase;
      font-weight: 700;
      font-size: clamp(12px, 3.6vw, 15px);
      -webkit-tap-highlight-color: transparent;
      transition: transform .16s ease-out, border-color .16s ease-out, box-shadow .16s ease-out;
      position: relative;
      overflow: visible;
    }
    .dock-label { color: rgba(255,255,255,0.9); text-transform: uppercase; letter-spacing: 0.045em; }
    .dock-btn:active { transform: translateY(1px) scale(0.99); }
    .dock-btn .dock-label { transform: translateY(1px); }
    .dock-icon {
      width: clamp(18px, 5vw, 24px); height: clamp(18px, 5vw, 24px); flex: 0 0 auto;
      background-repeat: no-repeat; background-position: center; background-size: contain;
      filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
      transform: translate(-3px, -1px);
    }
    .dock-btn--locations {
      --bg: linear-gradient(130deg, rgba(125,195,184,0.32), transparent 42%), linear-gradient(to bottom, #217872 0%, #1b605c 100%);
      border-color: rgba(125,195,184,0.85);
    }
    .dock-btn--locations .dock-icon { background-image: url('../assets/img/home/location.png'); }
    .dock-btn--order {
      --bg: linear-gradient(130deg, rgba(175,16,33,0.42), transparent 42%), linear-gradient(to bottom, #B8192F 0%, #7D0E1F 100%);
      border-color: rgba(255,194,201,0.82);
      box-shadow:
        0 10px 18px rgba(0,0,0,0.38),
        0 0 24px rgba(175,16,33,0.32),
        0 0 42px rgba(175,16,33,0.18);
    }
    .dock-btn--order .dock-icon { background-image: url('../assets/img/home/order.png'); filter: drop-shadow(0 0 10px rgba(255,163,0,0.45)); }
  </style>

  <script src="../scripts/slides.js" defer></script>
  <script src="../scripts/layout.js" defer></script>
</body>
</html>
